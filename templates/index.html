<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>News Summarizer</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    /* Bạn giữ nguyên phần CSS hiện tại của bạn ở đây */
  </style>
</head>
<body>
  <div class="card">
    <h1>Tóm tắt Tin tức</h1>

    <div id="usageGuide">
      <b>Bạn có thể sử dụng chức năng tóm tắt và dịch tin tức ngay mà không cần đăng nhập.</b><br>
      Nếu muốn <b>xem lại lịch sử</b> các lần tóm tắt/dịch, vui lòng <b>đăng nhập hoặc đăng ký tài khoản</b>.
    </div>

    <textarea id="inputText" placeholder="Nhập nội dung tin tức..."></textarea>

    <div class="controls">
      <label>Ngôn ngữ gốc
        <select id="sourceLang">
          <option value="vi">Tiếng Việt</option>
          <option value="en">English</option>
        </select>
      </label>

      <label>Ngôn ngữ kết quả
        <select id="targetLang">
          <option value="vi">Tiếng Việt</option>
          <option value="en">English</option>
        </select>
      </label>
    </div>

    <button onclick="summarize()">Tóm tắt</button>
    <button onclick="loadHistory()" id="historyBtn" style="margin-left: 1rem;" disabled>📜 Xem lịch sử</button>

    <p id="loadingMessage" style="display: none;">⏳ Đang xử lý...</p>
    <p id="resultArea"></p>

    <div id="historyArea" style="display:none;">
      <h2>🕘 Lịch sử gần đây</h2>
      <div id="historyList"></div>
    </div>

    <div id="authArea">
      <input type="text" id="username" placeholder="Tên đăng nhập" />
      <input type="password" id="password" placeholder="Mật khẩu" />
      <button onclick="login()">Đăng nhập</button>
      <button onclick="register()">Đăng ký</button>
      <button onclick="logout()" style="display:none;" id="logoutBtn">Đăng xuất</button>
      <span id="loginStatus"></span>
    </div>

    <div id="authChoice">
      <button onclick="chooseGuest()">Dùng ngay không cần tài khoản</button>
      <button onclick="showLoginForm()">Đăng nhập/Đăng ký để lưu lịch sử</button>
    </div>

    <footer>© 2025 News Summarizer</footer>
  </div>

  <!-- Gắn JavaScript riêng -->
  <script src="script.js"></script>
</body>
</html>
